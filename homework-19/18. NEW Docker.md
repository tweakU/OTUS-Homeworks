

**Методическое пособие по выполнению домашнего задания по курсу «Администратор Linux. Professional»**

**Docke**r

**Цель домашнего задания**

Освоить базовые принципы работы с Docker, научиться создавать, настраивать и управлять контейнерами

**Описание домашнего задания**

1. Установите Docker на хост машину

[https://docs.docker.com/engine/install/ubuntu/](https://docs.docker.com/engine/install/ubuntu/)

2. Установите Docker Compose \- как плагин, или как отдельное приложение

3. Создайте свой кастомный образ nginx на базе alpine. После запуска nginx должен отдавать кастомную страницу (достаточно изменить дефолтную страницу nginx)

4. Определите разницу между контейнером и образом

5. Вывод опишите в домашнем задании.

6. Ответьте на вопрос: Можно ли в контейнере собрать ядро?

Собранный образ необходимо запушить в docker hub и дать ссылку на ваш репозиторий.

**Команды для выполнения ДЗ**

*docker ps* \- просмотреть список запущенных контейнеров  
*docker ps \-a* \- просмотреть список всех контейнеров  
*docker run \-d \-p port:port container\_name* \- запуск нового контейнера с пробросом портов  
*docker stop container\_name* \- остановка контейнера  
*docker logs container\_name* \- вывод логов контейнеров  
*docker inspect container\_name* \- информация по запущенному контейнеру  
*docker build \-t dockerhub\_login/reponame:ver* \- билд нового образа  
*docker push/pull* \- отправка/получение образа из docker-registry  
*docker exec \-it container\_name bash* \- выполнить команду внутри оболочки контейнера (в данном примере мы выполняем команду “bash” внутри контейнера и попадаем в оболочку, внутрь контейнера)

**Шаблон для работы с Dockerfile**  
Что должно быть Dockerfile:

*FROM image name*  
*RUN apt update \-y && apt upgrade \-y*  
*COPY или ADD filename /path/in/image*  
*EXPOSE portopenning*  
*CMD or ENTRYPOINT or both*

\# не забываем про разницу между COPY и ADD  
\# or \- одна из опций на выбор

**Критерии оценивания**

1. Создан свой кастомный образ nginx на базе alpine. После запуска nginx должен отдавать кастомную страницу (достаточно изменить дефолтную страницу nginx).

2. Определена разница между контейнером и образом, написан вывод.

3. Написан ответ на вопрос: Можно ли в контейнере собрать ядро?

4. Собранный образ запушин в docker hub и дана ссылку на репозиторий.

**Задание со звездочкой**

1. Написать Docker-compose для приложения Redmine, с использованием опции build.

2. Добавить в базовый образ redmine любую кастомную тему оформления.

3. Убедиться что после сборки новая тема доступна в настройках.

4. Настроить вольюмы, для сохранения всей необходимой информации

Работа должна быть сдана как репозиторий на github в котором будет docker-compose файл и все необходимые для него зависимости.

Как установить тему для Redmine   
 [https://www.redmine.org/projects/redmine/wiki/themes](https://www.redmine.org/projects/redmine/wiki/themes)

Пример темы для Redmine [https://github.com/farend/redmine\_theme\_farend\_bleuclair\#demo](https://github.com/farend/redmine_theme_farend_bleuclair#demo)  
